<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-5.3.3-dist/css/bootstrap.min.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Import/Export</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">Hospital Management System</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="/appo1">Appointments</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="doc">Doctor</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="nur">Nurse</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="dep">Department</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="gs">General Staff</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="pat">Patient</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ha">Hospital Admin</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="med">Medical Records</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="resm">Resource Management</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="emp">Employee</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <h2 class="mt-3">JSON Import/Export</h2>
        <!-- Flash message section -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="alert alert-{{ messages[0]['category'] }} mt-3" role="alert">
            {% for message in messages %}
            <p>{{ message['message'] }}</p>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
        <form action="importexportjson" method="post" enctype="multipart/form-data" class="mt-3">
            <div class="mb-3">
                <label for="action" class="form-label">Select Action:</label>
                <select id="action" name="action" class="form-select">
                    <option value="import">Import</option>
                    <option value="export">Export</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="collection_name" class="form-label">Select a Collection:</label>
                <select name="collection_name" id="collection_name" class="form-select">
                    {% for name in collection_names %}
                    <option value="{{ name }}">{{ name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="import_json" class="form-label">Import JSON File:</label>
                <input type="file" id="import_json" name="import_json" class="form-control">
            </div>
            <!-- <div class="mb-3">
                <label for="export_json" class="form-label">Export JSON File:</label>
                <input type="file" id="export_json" name="export_json" class="form-control">
            </div> -->
            <button type="submit" class="btn btn-primary">Perform Action</button>

        </form>

        
    </div>
    
    
    <script src="{{ url_for('static', filename='bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js') }}"></script>
</body>
</html>
